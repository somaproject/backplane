
\section{Event Port Interface}


Event routeing is based around the EventBus Port interface. This is a
curious interface as it requires partial cooperation with the client
devices for timing, thus violating an abstraction barrier. However,
such is the price of embedded hardware design.


The eventbus port communicates to a target internal device via five signals:

\signal{EARX[N-1:0]} Event address receive: Latched at the beginning
of ECYCLE, this contains the list of targets for the next address
cycle. the assertion of EARX[m] on EventBus Port N means that the
device connected to port N transmitted an event targeted for device m. 

\signal{EDRX[7:0]} Event data input. 

\signal{EDSELRX[3:0]} Event data mux selection, selects the relevant
byte in the pending event data.

\signal{EATX[N-1:0]} Output event enable. If EATX[m] is asserted on
eventbus port N, then the device connected to port N is the target
(i.e. should respond to) the m-th event in the event data block.

\signal{EDTX} output event data, in a stream. This signal is common to all ports, that is, all ports send the same data at once (event target specificity is determined by EATX)



On the cycle following ECYCLE, 50 ticks into the event cycle, the
event router begins transmitting the data from the device on EventBus
Port 0.

\section{Implementation}

